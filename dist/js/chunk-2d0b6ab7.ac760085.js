(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b6ab7"],{"1dc1":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticStyle:{"text-align":"center",margin:"0 auto",width:"600px",height:"180px"}},[s("dv-decoration-11",{staticStyle:{width:"200px",height:"40px",left:"200px"},attrs:{color:["cyan","cyan"]}},[t._v("DNSLOG")]),s("dv-border-box-1",{staticStyle:{"text-align":"center",width:"600px",height:"140px"},attrs:{title:"DNSLOG"}},[s("div",{},[s("a-tag",{attrs:{color:"red"}},[t._v("Usage:")]),s("a-tag",{attrs:{color:"#2db7f5"}},[t._v("nslookup dns.com")])],1),s("div",[s("a-tag",{attrs:{color:"red"}},[t._v("验证:")]),s("a-tag",{attrs:{color:"#2db7f5"}},[t._v("curl http://"+t._s(t.hostname)+"/api/dns?token=APITOKEN&q=Wing.dns.com")])],1),s("div",[s("a-tag",{attrs:{color:"red"}},[t._v("token:")]),s("a-tag",{attrs:{color:"#2db7f5"}},[t._v(t._s(this.apitoken))])],1)])],1),s("a-table",{attrs:{columns:t.columns,dataSource:t.data},scopedSlots:t._u([{key:"Uid",fn:function(e,a,n){return s("a",{},[t._v(t._s(n+1))])}},{key:"data",fn:function(e){return s("span",{},[s("a-tag",{attrs:{color:"red"}},[t._v("\n      "+t._s(e)+"\n      ")])],1)}},{key:"ip",fn:function(e){return s("span",{},[s("a-tag",{attrs:{color:"green"}},[t._v("\n      "+t._s(e)+"\n      ")])],1)}},{key:"date",fn:function(e){return s("span",{},[s("a-tag",{attrs:{color:"cyan"}},[t._v("\n      "+t._s(e)+"\n      ")])],1)}},{key:"ref",fn:function(e){return s("span",{},[s("a-tag",{attrs:{color:"#108ee9"}},[t._v("\n      "+t._s(e)+"\n      ")])],1)}},{key:"action",fn:function(e){return s("span",{},[s("a-button",{attrs:{type:"primary",icon:"delete"},on:{click:function(s){return t.deletelog(e)}}},[t._v("Delete")]),s("a-modal",{attrs:{title:"RedTeamWing"},on:{ok:function(s){return t.deletelog(e)}},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[s("p",[t._v("是否删除此条记录")])])],1)}}])},[s("span",{attrs:{slot:"customTitle"},slot:"customTitle"},[s("a-icon",{attrs:{type:"smile-o"}}),t._v(" uid")],1)]),s("div",[s("a-button",{attrs:{type:"danger",icon:"close"},on:{click:t.clear}},[t._v("清空")])],1)],1)},n=[],o=[{title:"UID",scopedSlots:{customRender:"Uid"}},{title:"Domain",dataIndex:"domain",scopedSlots:{customRender:"ref"}},{title:"ip",dataIndex:"ip",scopedSlots:{customRender:"ip"}},{title:"Time",dataIndex:"insert_time",scopedSlots:{customRender:"date"}},{title:"Action",dataIndex:"id",scopedSlots:{customRender:"action"}}],i={data:function(){return{data:[],columns:o,visible:!1,hostname:window.location.host,apitoken:""}},methods:{clear:function(){var t=this,e=confirm("是否清空所有数据?");if(!0===e){var s="/del/dns";this.axios.get(s).then((function(e){"success"===e["status"]["status"]?t.$message.success(e["status"]["message"],4):t.$message.error(e["status"]["message"]),t.timer=setTimeout((function(){location.reload()}),4e3)}))}else this.$message.success("Wing",4)},deletelog:function(t){var e=this,s="/api/httplog?id="+t,a=confirm("是否删除?");!0===a?this.axios.delete(s).then((function(t){"success"===t["status"]["status"]?e.$message.success(t["status"]["message"],4):e.$message.error(t["status"]["message"]),e.timer=setTimeout((function(){location.reload()}),4e3)})):this.$message.success("Wing",4)},showModal:function(){this.visible=!0}},mounted:function(){var t=this,e="/dnslog/list";this.axios.get(e).then((function(e){var s=e["status"];t.data=e["result"]["rows"],t.apitoken=e["result"]["token"],"success"===s["status"]?t.$message.success("success",4):t.$message.error(s.message)}))}},c=i,r=s("2877"),l=Object(r["a"])(c,a,n,!1,null,null,null);e["default"]=l.exports}}]);